<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Final - Alignements Tableaux OntoWave</title>
</head>
<body>
    <div id="app">
        <h1>🎯 Test Final - Alignements Tableaux OntoWave</h1>
        
        <h2>1. Tableau Alignements Basiques</h2>
        
| Gauche | Centre | Droite |
|:-------|:------:|-------:|
| Texte gauche | Texte centré | Texte droite |
| ABC | DEF | GHI |
| 123 | 456 | 789 |

        <h2>2. Tableau Données Techniques (comme index.md)</h2>
        
| Paramètre | Valeur Min | Valeur Max | Unité | Description Détaillée |
|:----------|----------:|----------:|:-----:|:----------------------|
| Température | 1500 | 3000 | °C | Température de fonctionnement |
| Pression | 10 | 100 | Bar | Pression hydraulique maximale |
| Débit | 0.5 | 15.0 | L/min | Débit volumique du fluide |

        <h2>3. Tableau Financier</h2>
        
| Produit | Prix TTC | Remise | Prix Final |
|:--------|--------:|:------:|-----------:|
| Laptop Pro | 1499.99€ | 10% | 1349.99€ |
| Smartphone | 699.99€ | 5% | 664.99€ |
| Tablette | 299.99€ | 15% | 254.99€ |

        <div id="test-results" style="margin-top: 30px; padding: 20px; background: #f0f0f0; border-radius: 8px;">
            <h3>📊 Résultats du Test</h3>
            <div id="status">⏳ Test en cours...</div>
        </div>
    </div>
    
    <script src="dist/ontowave.js"></script>
    <script>
        // Test automatique après chargement
        setTimeout(function() {
            console.log('🚀 Début du test final des alignements');
            
            // Vérifications
            const results = {
                styleInjected: !!document.getElementById('ontowave-table-styles'),
                tablesFound: document.querySelectorAll('table').length,
                cellsWithClasses: document.querySelectorAll('td[class], th[class]').length,
                leftCells: document.querySelectorAll('.text-left').length,
                centerCells: document.querySelectorAll('.text-center').length,
                rightCells: document.querySelectorAll('.text-right').length
            };
            
            console.log('📊 Résultats:', results);
            
            // Vérifier l'alignement effectif
            let alignmentCheck = { correct: 0, total: 0 };
            document.querySelectorAll('td, th').forEach(cell => {
                const className = cell.className;
                const computedAlign = window.getComputedStyle(cell).textAlign;
                alignmentCheck.total++;
                
                if (
                    (className.includes('text-left') && computedAlign === 'left') ||
                    (className.includes('text-center') && computedAlign === 'center') ||
                    (className.includes('text-right') && computedAlign === 'right')
                ) {
                    alignmentCheck.correct++;
                }
                
                console.log(`Cellule "${cell.textContent.substring(0, 10)}...": classe="${className}", computed="${computedAlign}"`);
            });
            
            // Afficher les résultats
            const success = results.styleInjected && 
                          results.tablesFound >= 3 && 
                          results.cellsWithClasses > 0 &&
                          alignmentCheck.correct === alignmentCheck.total;
            
            document.getElementById('status').innerHTML = `
                <h4>${success ? '✅ SUCCÈS' : '❌ ÉCHEC'}</h4>
                <p><strong>Style CSS injecté:</strong> ${results.styleInjected ? '✅' : '❌'}</p>
                <p><strong>Tableaux générés:</strong> ${results.tablesFound}</p>
                <p><strong>Cellules avec classes:</strong> ${results.cellsWithClasses}</p>
                <p><strong>Cellules text-left:</strong> ${results.leftCells}</p>
                <p><strong>Cellules text-center:</strong> ${results.centerCells}</p>
                <p><strong>Cellules text-right:</strong> ${results.rightCells}</p>
                <p><strong>Alignement correct:</strong> ${alignmentCheck.correct}/${alignmentCheck.total}</p>
                <p><strong>Test global:</strong> ${success ? '🎉 RÉUSSI' : '💥 ÉCHOUÉ'}</p>
            `;
            
            if (success) {
                console.log('🎉 TOUS LES TESTS RÉUSSIS - Les alignements fonctionnent !');
            } else {
                console.log('💥 ÉCHEC - Les alignements ne fonctionnent pas correctement');
            }
            
        }, 3000);
    </script>
</body>
</html>