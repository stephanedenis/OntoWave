<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Manuel Parsing</title>
</head>
<body>
    <h1>Test Manuel du Parsing des Alignements</h1>
    
    <div id="test-content">
        <h2>Tableau Simple avec Alignements</h2>
        
| Gauche | Centre | Droite |
|:-------|:------:|-------:|
| ABC    | DEF    | GHI    |
| 123    | 456    | 789    |

        <h2>Tableau avec Alignements Mixtes</h2>
        
| Paramètre | Valeur Min | Valeur Max | Unité | Description |
|:----------|----------:|----------:|:-----:|:------------|
| Température | 15 | 30 | °C | Température ambiante |
| Pression | 950 | 1050 | hPa | Pression atmosphérique |
    </div>
    
    <div id="debug-output"></div>
    
    <script src="dist/ontowave.js"></script>
    <script>
        // Test manuel du parsing
        function testTableParsing() {
            console.log('=== TEST PARSING TABLEAU ===');
            
            // Test avec le tableau simple
            const testMarkdown1 = `| Gauche | Centre | Droite |
|:-------|:------:|-------:|
| ABC    | DEF    | GHI    |
| 123    | 456    | 789    |`;
            
            console.log('Markdown à parser:');
            console.log(testMarkdown1);
            
            // Extraire les lignes
            const lines = testMarkdown1.trim().split('\n');
            const separatorLine = lines[1];
            console.log('Ligne de séparation:', separatorLine);
            
            // Parser les séparateurs
            const separators = separatorLine.split('|').map(s => s.trim()).filter(s => s);
            console.log('Séparateurs trouvés:', separators);
            
            // Déterminer les alignements
            const alignments = separators.map(sep => {
                console.log(`Analyser "${sep}":`, {
                    startsWith: sep.startsWith(':'),
                    endsWith: sep.endsWith(':'),
                    both: sep.startsWith(':') && sep.endsWith(':')
                });
                
                if (sep.startsWith(':') && sep.endsWith(':')) return 'center';
                if (sep.endsWith(':')) return 'right';
                if (sep.startsWith(':')) return 'left';
                return 'left';
            });
            
            console.log('Alignements détectés:', alignments);
            
            // Tester avec le vrai OntoWave si disponible
            if (window.OntoWave) {
                console.log('OntoWave disponible, test en cours...');
                // On ne peut pas appeler directement renderAdvancedTables
                // car elle est dans la classe, mais on peut tester le rendu complet
            }
            
            // Afficher dans la page
            document.getElementById('debug-output').innerHTML = `
                <h3>Résultats du Debug</h3>
                <p><strong>Séparateurs:</strong> ${JSON.stringify(separators)}</p>
                <p><strong>Alignements:</strong> ${JSON.stringify(alignments)}</p>
                <p><strong>Attendu:</strong> ["left", "center", "right"]</p>
                <p><strong>Match:</strong> ${JSON.stringify(alignments) === JSON.stringify(["left", "center", "right"]) ? '✅' : '❌'}</p>
            `;
        }
        
        setTimeout(testTableParsing, 1000);
    </script>
</body>
</html>