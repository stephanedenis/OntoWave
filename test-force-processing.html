<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Alignements - Force Processing</title>
</head>
<body>
    <h1>üéØ Test Force Processing Markdown</h1>
    
    <!-- OntoWave attend du contenu dans un div avec cet ID -->
    <div id="ontowave-content">
        <h2>1. Tableau Alignements Basiques</h2>
        
| Gauche | Centre | Droite |
|:-------|:------:|-------:|
| Texte gauche | Texte centr√© | Texte droite |
| ABC | DEF | GHI |
| 123 | 456 | 789 |

        <h2>2. Tableau Donn√©es Techniques</h2>
        
| Param√®tre | Valeur Min | Valeur Max | Unit√© | Description |
|:----------|----------:|----------:|:-----:|:------------|
| Temp√©rature | 1500 | 3000 | ¬∞C | Temp√©rature de fonctionnement |
| Pression | 10 | 100 | Bar | Pression hydraulique maximale |
| D√©bit | 0.5 | 15.0 | L/min | D√©bit volumique du fluide |
    </div>
    
    <div id="test-status" style="margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 5px;">
        <h3>üìä Status du Test</h3>
        <div id="status-content">‚è≥ Initialisation...</div>
    </div>
    
    <script src="dist/ontowave.js"></script>
    <script>
        // Attendre que OntoWave soit initialis√©
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(function() {
                console.log('üîß Force processing du markdown existant...');
                
                // Essayer d'acc√©der √† l'instance OntoWave
                if (window.OntoWave && window.OntoWave.instance) {
                    const instance = window.OntoWave.instance;
                    const contentDiv = document.getElementById('ontowave-content');
                    
                    if (contentDiv) {
                        // Obtenir le contenu markdown brut
                        const markdownContent = contentDiv.textContent || contentDiv.innerText;
                        console.log('üìù Contenu markdown d√©tect√©:', markdownContent.substring(0, 100) + '...');
                        
                        // Forcer le traitement du markdown (si la m√©thode existe)
                        if (typeof instance.renderMarkdown === 'function') {
                            const htmlContent = instance.renderMarkdown(markdownContent);
                            contentDiv.innerHTML = htmlContent;
                            console.log('‚úÖ Markdown trait√© avec renderMarkdown');
                        } else {
                            console.log('‚ùå M√©thode renderMarkdown non trouv√©e');
                            // Fallback: au moins traiter les tableaux
                            if (typeof instance.renderAdvancedTables === 'function') {
                                const htmlContent = instance.renderAdvancedTables(markdownContent);
                                contentDiv.innerHTML = htmlContent;
                                console.log('‚úÖ Tableaux trait√©s avec renderAdvancedTables');
                            } else {
                                console.log('‚ùå M√©thode renderAdvancedTables non trouv√©e');
                            }
                        }
                        
                        // V√©rification des r√©sultats
                        setTimeout(function() {
                            const tables = document.querySelectorAll('table').length;
                            const cssStyle = document.getElementById('ontowave-table-styles');
                            const leftCells = document.querySelectorAll('.text-left').length;
                            const centerCells = document.querySelectorAll('.text-center').length;
                            const rightCells = document.querySelectorAll('.text-right').length;
                            
                            const statusDiv = document.getElementById('status-content');
                            statusDiv.innerHTML = `
                                <p><strong>Tableaux g√©n√©r√©s:</strong> ${tables}</p>
                                <p><strong>CSS inject√©:</strong> ${cssStyle ? '‚úÖ' : '‚ùå'}</p>
                                <p><strong>Cellules text-left:</strong> ${leftCells}</p>
                                <p><strong>Cellules text-center:</strong> ${centerCells}</p>
                                <p><strong>Cellules text-right:</strong> ${rightCells}</p>
                                <p><strong>R√©sultat:</strong> ${tables > 0 && leftCells > 0 && centerCells > 0 && rightCells > 0 ? 'üéâ SUCCESS' : '‚ùå √âCHEC'}</p>
                            `;
                            
                            console.log('üìä R√©sultats finaux:', {tables, leftCells, centerCells, rightCells});
                        }, 1000);
                    }
                } else {
                    console.log('‚ùå OntoWave instance non trouv√©e');
                    document.getElementById('status-content').innerHTML = '‚ùå OntoWave non initialis√©';
                }
            }, 2000);
        });
    </script>
</body>
</html>